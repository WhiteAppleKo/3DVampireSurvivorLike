# 2026-01-02 일일 작업 일지

## 📝 오늘 한 일
1. **능력치 임포터(AbilityImporter) 고도화 및 버그 수정**
   - `Type Mismatch` 발생 원인 파악: CSV 데이터와 코드 내 Switch-Case 문자열 불일치(공백 오타) 수정.
   - ScriptableObject 저장 방식 개선: `AddObjectToAsset`을 사용하여 생성된 능력을 데이터베이스 에셋의 하위 에셋으로 귀속시켜 데이터 유실 방지.
   - 임포트 시 기존 하위 에셋을 삭제하는 로직을 추가하여 중복 데이터 적재 문제 해결.
   - 에셋 이름 명명 규칙 설정: `ID_Name` 형식으로 자동 지정되도록 수정.

2. **Shapes Immediate Mode UI 개선**
   - `IMChoiceCanvas` 그리기 영역 오류 수정: 초기화되지 않은 `m_Rect` 문제 해결 및 `ctx.canvasRect` 할당 로직 제안.
   - 렌더링 순서(Layering) 문제 해결 시도: `RenderPassEvent`를 사용하여 배경 캔버스가 전경 요소보다 먼저 그려지도록 조정.

3. **스크립트 충돌 및 런타임 에러 수정**
   - `IMEXPPanel`: 부모 클래스와의 변수명 충돌(`imCanvas`) 해결을 위해 `targetCanvas`로 리네임.
   - `Text element allocation cap` 에러 분석: `Draw.Command` 중첩 사용으로 인한 텍스트 풀링 시스템의 메모리 누수 원인 파악.

## 💡 새롭게 배운 점
- Shapes의 Immediate Mode 사용 시 `ImmediateModeCanvas`가 이미 내부적으로 `Draw.Command` 컨텍스트를 제공하므로, 자식 패널에서 이를 중첩 호출할 경우 리소스 반환(Dispose) 과정에서 심각한 오류가 발생할 수 있음을 확인.
- `UnityEngine.Random.Range`가 `int`일 때는 상한값을 제외하고, `float`일 때는 포함한다는 차이점을 명확히 인지.

## ⚠️ 직면했던 문제점
- **Render Graph Execution Error**: URP의 렌더 그래프 시스템과 Shapes의 그리기가 충돌하거나, Material이 유실된 상태에서 그리기가 시도되어 발생.
- **Z-Fighting**: 에디터 씬 뷰에서 캔버스와 버튼이 동일한 깊이값으로 인해 깜빡이는 현상 발생.

## 📅 내일 할 일
- **Shapes 에셋을 활용한 UI 버튼 시스템 제작**
  - 유니티 UI 시스템(EventSystem)과 Shapes 도형 컴포넌트를 결합한 하이브리드 버튼 구조 설계.
  - 마우스 오버 및 클릭 시 Shapes 속성(색상, 두께 등)을 변경하는 인터랙션 구현.