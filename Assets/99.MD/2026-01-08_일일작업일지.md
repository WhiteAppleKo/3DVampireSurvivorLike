# 2026-01-08 일일 작업 일지

## 📝 오늘 한 일

### 1. 데이터 임포트 시스템 개선
*   **MonsterImporter 수정**: CSV 데이터의 ID를 기반으로 `Assets/00.Resources/Monsters/` 경로에서 `Monster_(ID)` 형식의 프리팹을 찾아 `MonsterData`에 자동으로 할당하도록 로직을 개선했습니다.

### 2. 비동기 시스템 도입 (UniTask)
*   **UniTask 라이브러리 설치**: 패키지 매니저 및 `manifest.json` 수정을 통해 UniTask를 프로젝트에 도입했습니다.
*   **비동기 프로그래밍 적용**: 코루틴(Coroutine)을 UniTask(Async/Await)로 전환하여 성능과 가독성을 높였습니다.

### 3. 몬스터 스폰 시스템(RepeatSpawner) 리팩토링 및 고도화
*   **UniTask 전환**: 로드 및 스폰 로직을 `async UniTaskVoid` 방식으로 개편하고 `CancellationTokenSource`로 안전성을 확보했습니다.
*   **동적 스폰 범위 계산**: 카메라 타입(Orthographic/Perspective)에 맞춰 화면 밖 스폰 반지름을 자동 계산하는 로직을 구현했습니다.
*   **풀링(Pooling) 버그 수정**: 생성된 객체의 이름 매칭 문제를 해결하여 오브젝트 재사용이 정상 작동하도록 수정했습니다.
*   **예외 처리**: 데이터 로드 전 스폰 시도 시 발생하는 인덱스 에러를 방지했습니다.

### 4. 적 AI 및 이동 로직 구현
*   **EnemyController 이동/회전**: 타겟(플레이어) 추적 로직을 구현하고 `sqrMagnitude`를 사용하여 성능을 최적화했습니다.

### 5. 공격 시스템(AutoAttack) 생명주기 관리
*   **풀링 대응**: `OnEnable`/`OnDisable`을 통해 코루틴을 관리하여 풀에서 재사용될 때 공격이 정상 시작되도록 수정했습니다.
*   **플레이어 대응**: 무기 획득 시 즉시 공격이 시작되도록 `AddWeapon` 로직을 보완했습니다.

### 6. 광역 무기(AoEWeapon) 기능 수정
*   **스탯-물리 동기화**: 증강된 범위 스탯이 `SphereCollider.radius`에 즉각 반영되도록 수정했습니다.
*   **베이스 클래스 확장**: `Weapon.cs`의 `RecalculateStats`를 `protected virtual`로 변경하여 확장성을 확보했습니다.

## 💡 작업 과정에서 배운 점
*   유니티 생명주기(`Awake` vs `OnEnable`)가 오브젝트 풀링에서 가지는 중요성을 깊이 이해했습니다.
*   UniTask를 활용한 비동기 프로그래밍이 게임 로직의 안정성을 얼마나 높여주는지 확인했습니다.
*   `sqrMagnitude`와 같은 수학적 최적화 기법의 실무 적용 방법을 익혔습니다.

## ⚠️ 직면했던 문제점 및 해결 방법
*   **데이터 로드 전 스폰 에러**: 리스트 카운트 체크 로직으로 해결.
*   **풀링 실패(계속 생성)**: 이름 강제 지정 및 비교 방식 개선으로 해결.
*   **플레이어 공격 멈춤**: 무기 추가 시 활성화 상태를 체크하여 코루틴을 즉시 실행하도록 복구.

## 📅 내일 할 일
*   

