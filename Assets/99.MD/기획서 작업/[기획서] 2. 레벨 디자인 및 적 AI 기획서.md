# **레벨 디자인 및 적 AI**

**1\. 몬스터 패턴 및 루틴 설계**

몬스터는 유저와 동일하게 AutoAttack 을 가지고 있고, 이동 로직은 EnemyController에서 자동으로 수행 합니다. 

### **1.1. 적 AI 상태**

적 몬스터 상태에 따른 동작 요약.

* **Spawn**: 스폰 후 N초 동안 대기 상태.  
* **Move**: Target(플레이어)를 목표로 이동  
* **Attack**: 몬스터의 공격 범위 안에 플레이어가 들어올때 Attack 상태로 전환되며 공격 시작

### **1.2. 몬스터 패턴 아키타입 (Archetypes)**

레벨 디자인 시 활용할 대표적인 몬스터 패턴 유형입니다.

#### **A. 근접 공격형 \- 기본 몬스터**

가장 기본적인 몬스터입니다.

* **로직**: \[공격\] → \[딜레이\] → 반복.

  #### **B. 원거리 공격형 \- 엘리트 몬스터**

일반 몬스터보다 숫자가 적은 원거리 공격 몬스터입니다.

* **로직**:  
  * \[공격\] → \[딜레이\] → 반복.

  #### **C. 보스 몬스터 \- 처치 시 증강 선택 제공**

시간에 따라 등장

* **로직**:  
  * 보스에 따라 다름

### 

### **1.3.  몬스터 관련 데이터 필드**

몬스터의 기본 테이블 입니다.

1. #### **몬스터 기본 정보 테이블**

| 필드명 (Field) | 데이터 타입 | 설명 (Description) | 예시 데이터 |
| :---- | :---- | :---- | :---- |
| **ID** | Int (PK) | 몬스터 고유 ID | 9001 |
| **Name\_Key** | String | MON\_등급\_종족 | MON\_BOSS\_WOLF |
| **Type** | Enum | 등급 (Normal, Elite, Boss) | Boss |
| **LogicID** | Int | **\[핵심\] 사용할 AI 로직 패턴 ID** | 7001 (1페이즈 로직) |
| **BaseHP** | Int | 기본 체력 | 5000 |
| **BaseAtk** | Int | 기본 공격력 (행동 블록 계수의 기준값) | 150 |
| **PrefabPath** | String | 모델링 리소스 경로 | Prefabs/Monsters/BossWolf |
| **DropTableID** | Int | 처치 시 보상 테이블 ID | 8001 |

2. #### **적 AI 패턴 테이블**

| 필드명 (Field) | 데이터 타입 | 설명 (Description) | 비고 |
| :---- | :---- | :---- | ----- |
| **PatternID** | Int (PK) | 패턴 식별자 | 7001 |
| **Routine\_Sequence** | List\<Int\> | **\[루틴\] 순차 실행할 행동 블록(ActionID) 리스트** | \[1001, 1001, 1005, 0\] (0은 대기) |
| **Interrupt\_List** | List\<String\> | **\[변수\] TriggerID:ActionID:Priority 형태의 문자열 리스트** | 3001:2001:99 (트리거3001 만족시 2001 발동, 우선순위 99\) |
| **Phase\_Condition** | Float | 다음 페이즈로 넘어가는 체력 조건 (%) | 50.0 (체력 50% 이하 시) |
| **NextPatternID** | Int | 조건 만족 시 교체할 다음 패턴 ID | 7002 (2페이즈 광폭화 패턴) |
| **FogLevel\_Default** | Int | 해당 패턴의 정보 공개 수준 (0: 숨김, 1: 일부, 2: 공개) | 0 (물음표로 시작) |

---

## **3\. 스테이지 구성 및 레벨 디자인 흐름**

스테이지 계획

### **3.1 스테이지 배치 계획**

5분 이내에 최소 한 번의 선택 장비 or 스탯

#### **튜토리얼 (Loop & Cycle)**

* **목표**: 3가지 강화 시스템 숙달  
* **적**: 허수아비 4마리 등장. 스탯 선택지, 장비 선택지, 증강 선택지 하나씩 제공  
* **과제**: 3가지 선택지 선택 및 리롤 마지막 허수아비에서 최종 결과 확인

  #### **인게임 Phase 1: 일반 몬스터 스테이지**

* **목표**: 경험치 획득  
* **적**: 일반 몬스터

  #### **인게임 Phase 2: 엘리트 몬스터 스테이지**

* **목표**: 경험치 획득  
* **적**: 엘리트(원거리) \+ 일반 몬스터

  #### **인게임 Phase 3: 보스 스테이지**

* **목표**:  보스 처치를 통해 증강 경험치 획득  
* **적**: 보스 몬스터

### **2.3 스테이지 및 웨이브 테이블 (DT\_StageWave)**

| 필드명 (Field) | 데이터 타입 | 설명 (Description) | 예시 데이터 |
| :---- | :---- | :---- | :---- |
| **StageID** | Int | 스테이지 ID | 101 |
| **WaveIndex** | Int | 웨이브 순서 (1\~n) 시간에 따라 상승 | 1 |
| **MonsterID\_List** | List\<Int\> | 등장 몬스터 ID | 9001, 9002 |
| **TimeLimit** | Float | 제한 시간 (초) \- DPS 체크용 | 60 |
| **Env\_EffectID** | Int | 스테이지 환경 효과 (상시 적용되는 글로벌 트리거) | 5001 |

---

