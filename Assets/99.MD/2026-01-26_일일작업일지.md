# 2026-01-26 일일 작업 일지

## 📝 오늘 한 일
1.  **데미지 로그 시스템 구현 (Floating Damage Text)**
    *   **목표:** 적이 공격받았을 때 데미지 수치를 시각적으로 표시.
    *   **구현:** 
        *   `DamageText.cs`: 텍스트가 위로 떠오르며 흐려지는 연출 구현.
        *   `DamageTextManager.cs`: 오브젝트 풀링을 사용하여 다수의 적이 동시에 맞아도 성능 저하가 없도록 관리. `BattleManager`의 이벤트를 구독하여 자동으로 작동하게 설계.

2.  **버그 수정: 무기 데이터 임포트 오류 (NullReferenceException)**
    *   **문제:** `WeaponData.SetSo`에서 프리팹이 없거나 `Weapon` 컴포넌트가 없을 때 에러 발생.
    *   **해결:** `WeaponImporter`와 `WeaponData`에 `null` 체크 및 상세 에러 로그를 추가하여, 어떤 무기 ID가 문제인지 식별 가능하도록 개선 가이드 제공.

3.  **버그 수정: 선택지 시스템 오류 (ChoiceSystem)**
    *   **문제:** 인스펙터에서 `Database` 연결이 누락되었을 때 게임이 멈추는 현상.
    *   **해결:** `ChoiceSystem.cs`에 데이터베이스 `null` 체크를 추가하고, 데이터가 비어있을 경우 예외 처리를 통해 게임이 멈추지 않도록 안전장치 마련 가이드 제공.

4.  **버그 수정: 자동 공격 시스템 오류 (AutoAttack)**
    *   **문제:** `AddWeapon` 호출 시 배열 인덱스 문제 혹은 초기화 순서 문제로 인한 `NullReferenceException`.
    *   **해결:** 배열 크기 체크 로직 수정 (`> 5` → `>= weapon.Length`) 및 `m_GlobalModifier` 안전 초기화 코드 제안.

## 💡 새롭게 배운 점 / 리마인드
*   **오브젝트 풀링의 중요성:** 뱀파이어 서바이버 장르처럼 다수의 객체(적, 데미지 텍스트 등)가 생성/파괴되는 환경에서는 `Instantiate`/`Destroy`보다 풀링이 필수적임.
*   **방어적 프로그래밍:** `ScriptableObject`나 외부 리소스(프리팹)를 로드할 때는 반드시 `null` 체크를 통해 에러 원인을 명확히 로그로 남기는 것이 디버깅 시간을 단축시킴.

## 🚧 직면했던 문제점 및 해결
*   **문제:** 사용자가 "직접 코드를 건드리지 말라"는 지침을 주었으나, 초기에 파일을 직접 생성하려다 지적받음.
*   **해결:** 즉시 작업을 중단하고 사과한 뒤, 코드를 복사해서 사용할 수 있는 형태로 제공하는 방식으로 프로세스 변경. 이후 모든 요청에 대해 "가이드 제공" 형태로 대응함.
